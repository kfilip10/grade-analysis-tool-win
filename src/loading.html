<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Loading. This may take 15-20 seconds.</title>
  <link rel="stylesheet" href="loading.css" media="all">
  <style>
    /* Style for the text below the spinner */
body {
    display: flex;
    flex-direction: column; /* Stack items vertically */
    justify-content: center; /* Center items vertically */
    align-items: center; /* Center items horizontally */
    height: 100vh;
    color: white;
    font-family: Arial, sans-serif;
    margin: 0;
  }

  /* Style for the loading spinner */
  #loading-spinner {
    margin-bottom: 20px; /* Space between spinner and other elements */
  }

  /* Style for the dynamic loading text */
  #loading-update,
  #loading-text {
    font-size: 18px;
    text-align: center;
    margin-bottom: 20px; /* Space between text and button */
  }

  /* Style for the Kill Server button */
  #kill-server-button {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    margin: 0; /* Ensure no additional margins interfere */
  }

  </style>
</head>

<body>
  <div id="loading-text">Loading: this may take 15-30 seconds. <br>Please be patient, we're giving it all we have.</div>
  <div id="loading-container">
    <div id="loading-spinner" class="spinner">
      <div class="rect1"></div>
      <div class="rect2"></div>
      <div class="rect3"></div>
      <div class="rect4"></div>
      <div class="rect5"></div>
    </div>
  </div>
  <div id="loading-update">Updates here.</div>
  <div id="status"></div>
  <button id="kill-server-button">Kill Server</button>

  <script>

    document.getElementById('kill-server-button').addEventListener('click', () => {
      document.getElementById('loading-update').innerHTML = "This button doesn't actually do anything, well I guess it updates this text. <br>I'd recommend you CTRL ALT DELETE and remove any existing R processes and try again.";
      window.electron.sendKillServer();
    });

      // Listen for loading events from the main process
      window.electron.onLoadingEvent((message) => {
        document.getElementById('loading-update').innerHTML = `Loading Update: ${message}`;;
      });
  </script>
</body>

</html>